<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Booking Calendar</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 10px; font-size: 16px; }
        .container { max-width: 100%; }
        input, button { width: 100%; padding: 10px; margin: 5px 0; font-size: 16px; }
        .calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
        .day { border: 1px solid #ccc; padding: 5px; min-height: 50px; font-size: 14px; }
        .booking { background-color: #AED6F1; margin: 2px 0; padding: 2px; border-radius: 3px; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Booking Calendar</h1>
        <input type="text" id="name" placeholder="Your Name">
        <input type="date" id="startDate">
        <input type="date" id="endDate">
        <button id="bookBtn">Book Stay</button>
        <div id="currentMonth"></div>
        <button id="prevMonth">Previous Month</button>
        <button id="nextMonth">Next Month</button>
        <div id="calendar" class="calendar"></div>
    </div>

    <script>
        let currentDate = new Date();
        let bookings = [];

        function loadBookings() {
            const stored = localStorage.getItem('bookings');
            bookings = stored ? JSON.parse(stored) : [];
        }

        function saveBookings() {
            localStorage.setItem('bookings', JSON.stringify(bookings));
        }

        function bookStay() {
            const name = document.getElementById('name').value;
            const start = document.getElementById('startDate').value;
            const end = document.getElementById('endDate').value;
            if (name && start && end) {
                bookings.push({name, startDate: start, endDate: end});
                saveBookings();
                renderCalendar();
                document.getElementById('name').value = '';
                document.getElementById('startDate').value = '';
                document.getElementById('endDate').value = '';
            } else {
                alert('Please fill all fields');
            }
        }

        function renderCalendar() {
            const calendarEl = document.getElementById('calendar');
            calendarEl.innerHTML = '';
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);

            document.getElementById('currentMonth').textContent = 
                currentDate.toLocaleString('default', { month: 'long', year: 'numeric' });

            for (let i = 0; i < firstDay.getDay(); i++) {
                calendarEl.appendChild(document.createElement('div'));
            }

            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'day';
                dayEl.textContent = day;

                const currentDay = new Date(year, month, day);
                bookings.forEach(booking => {
                    const start = new Date(booking.startDate);
                    const end = new Date(booking.endDate);
                    if (currentDay >= start && currentDay <= end) {
                        const bookingEl = document.createElement('div');
                        bookingEl.className = 'booking';
                        bookingEl.textContent = booking.name;
                        dayEl.appendChild(bookingEl);
                    }
                });

                calendarEl.appendChild(dayEl);
            }
        }

        document.getElementById('bookBtn').addEventListener('click', bookStay);
        document.getElementById('prevMonth').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });
        document.getElementById('nextMonth').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });

        window.addEventListener('DOMContentLoaded', () => {
            loadBookings();
            renderCalendar();
        });
    </script>
</body>
</html>